<div class="card shadow-sm">
  <div class="card-body">

    <div class="d-flex justify-content-between align-items-center mb-3">
      <div>
        <h2 class="mb-3 text-center"> <span><i class="fas fa-graduation-cap"></i>
          </span> Students</h2>
      </div>
      <div>
        <button class="btn btn-primary" (click)="AddStudents()">
          <i class="fas fa-plus me-2"></i>Add New Student
        </button>

      </div>


    </div>

    <div class="table-responsive">
      <table class="table table-hover  align-middle">
        <thead class="table-light">
          <tr class="text-center">
            <th>S.N</th>
            <th>Name</th>
            <th>ID</th>
            <th>Roll No.</th>
            <th>Gender</th>
            <th>Mobile</th>
            <th>Email</th>
            <th>WhatsApp</th>
            <th>Father Name</th>
            <th>Mother Name</th>
            <th>Address</th>
            <th>Class</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let s of students; let i = index">
            <td class="text-center">{{ i + 1 }}</td>
            <td>{{ s.name }}</td>
            <td>{{ s.student_id }}</td>
            <td>{{ s?.enrollment?.roll_number ||''}}</td>
            <td>{{ s.gender }}</td>
            <td>{{ s.primary_mobile_number }}</td>
            <td style="max-width: 160px; white-space: normal; word-wrap: break-word;">
              {{ s.email }}
            </td>
            <td>{{ s.whatsapp_number }}</td>
            <td>{{ s.father_name }}</td>
            <td>{{ s.mother_name }}</td>
            <td style="max-width: 180px; white-space: normal; word-wrap: break-word;">
              {{ s.full_address }}
            </td>
            <td>{{ s?.enrollment?.class?.name ||''}}</td>
            <td class="text-center">
              <button class="btn btn-sm btn-outline-success action-btn me-2" title="View" (click)="EditStudents(s.id)">
                <i class="fa fa-eye"></i>
              </button>
              <!-- <button class="btn btn-sm btn-outline-primary action-btn me-2" title="Edit">
                            <i class="fa fa-pencil"></i>
                            </button> -->
              <button class="btn btn-sm btn-outline-danger action-btn" title="Delete">
                <i class="fa fa-trash"></i>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>



<!-- Edit Student Modal -->
<div class="modal fade" id="dynamicModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-xl modal-dialog-centered">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header bg-dark text-white">
        <h5 class="modal-title">
          @if(currentModalContent === 'addStudent') { Add Student }
          @if(currentModalContent === 'editStudent') { Edit Student }
        </h5>
        <button type="button" class="btn-close btn-close-white" (click)="closeModal()"></button>
      </div>

      <!-- Modal Body -->
      <div class="modal-body">
        @if(currentModalContent === 'addStudent') {
        <app-student-add></app-student-add>
        }
        @if(currentModalContent === 'editStudent') {
        <app-student-edit></app-student-edit>
        <!-- You can pass student data via @Input() to edit -->
        }
      </div>

    </div>
  </div>
</div>